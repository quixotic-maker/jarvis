# Jarvis ç³»ç»Ÿæ¶æ„è®¾è®¡æ–‡æ¡£ v2.0

## ğŸ¯ æ ¸å¿ƒç†å¿µ

**Jarvisæ˜¯ä¸€ä¸ªå…·æœ‰ä¸ªäººè®°å¿†çš„æ™ºèƒ½å¯¹è¯åŠ©æ‰‹**ï¼Œå®ƒä¸ä»…èƒ½ç†è§£ä½ è¯´ä»€ä¹ˆï¼Œè¿˜èƒ½è®°ä½ä½ æ˜¯è°ã€ä½ å–œæ¬¢ä»€ä¹ˆã€ä½ çš„ä¹ æƒ¯æ˜¯ä»€ä¹ˆã€‚

### è®¾è®¡å“²å­¦

1. **è®°å¿†å³æ™ºèƒ½** - çœŸæ­£çš„åŠ©æ‰‹ä¼šè®°ä½ä¸ä½ çš„æ¯æ¬¡äº¤äº’
2. **ç†è§£å³æœåŠ¡** - ä¸åªå¬ä½ è¯´ä»€ä¹ˆï¼Œè¿˜è¦ç†è§£ä½ ä¸ºä»€ä¹ˆè¿™ä¹ˆè¯´
3. **é¢„æµ‹å³ä»·å€¼** - åœ¨ä½ å¼€å£ä¹‹å‰ï¼Œå°±çŸ¥é“ä½ å¯èƒ½éœ€è¦ä»€ä¹ˆ
4. **ä¸ªæ€§å³ä½“éªŒ** - æ¯ä¸ªç”¨æˆ·çš„Jarviséƒ½æ˜¯ç‹¬ä¸€æ— äºŒçš„

### æ ¸å¿ƒèƒ½åŠ›

1. ğŸ§  **é•¿æœŸè®°å¿†** - è®°ä½ç”¨æˆ·çš„æ‰€æœ‰é‡è¦ä¿¡æ¯
2. ğŸ’­ **æ„å›¾ç†è§£** - æ·±åº¦ç†è§£ç”¨æˆ·çœŸå®éœ€æ±‚
3. ğŸ¯ **æ™ºèƒ½æ‰§è¡Œ** - åœ¨é€‚å½“æ—¶æœºè°ƒç”¨Agentæ‰§è¡Œä»»åŠ¡
4. ğŸ”® **ä¸»åŠ¨æœåŠ¡** - é¢„æµ‹éœ€æ±‚ï¼Œä¸»åŠ¨æä¾›å¸®åŠ©
5. ğŸ’ **æƒ…æ„Ÿæ„ŸçŸ¥** - ç†è§£ç”¨æˆ·æƒ…ç»ªï¼Œè°ƒæ•´äº¤äº’æ–¹å¼

---

## ğŸ§  ä¸ªäººè®°å¿†ç³»ç»Ÿï¼ˆMemory Systemï¼‰

### è®°å¿†æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          ä¸ªäººè®°å¿†ç³»ç»Ÿ                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    èº«ä»½æ¡£æ¡ˆ (Identity Profile)                   â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚  â”‚ åŸºæœ¬ä¿¡æ¯ â”‚ â”‚ èŒä¸šèƒŒæ™¯ â”‚ â”‚ å…´è¶£çˆ±å¥½ â”‚ â”‚ æ€§æ ¼ç‰¹ç‚¹ â”‚ â”‚ é‡è¦æ—¥æœŸ â”‚   â”‚   â”‚
â”‚  â”‚  â”‚ å§“å    â”‚ â”‚ å…¬å¸    â”‚ â”‚ å–œæ¬¢    â”‚ â”‚ æ²Ÿé€šé£æ ¼ â”‚ â”‚ ç”Ÿæ—¥    â”‚   â”‚   â”‚
â”‚  â”‚  â”‚ ç§°å‘¼    â”‚ â”‚ èŒä½    â”‚ â”‚ ä¸å–œæ¬¢  â”‚ â”‚ å†³ç­–é£æ ¼ â”‚ â”‚ çºªå¿µæ—¥  â”‚   â”‚   â”‚
â”‚  â”‚  â”‚ æ—¶åŒº    â”‚ â”‚ è¡Œä¸š    â”‚ â”‚ ä¹ æƒ¯    â”‚ â”‚ å·¥ä½œæ—¶é—´ â”‚ â”‚ é‡è¦èŠ‚ç‚¹ â”‚   â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    å…³ç³»å›¾è°± (Relationship Graph)                 â”‚   â”‚
â”‚  â”‚                                                                   â”‚   â”‚
â”‚  â”‚         [ææ€»]â”€â”€ä¸Šçº§â”€â”€[ç”¨æˆ·]â”€â”€åŒäº‹â”€â”€[å¼ ä¸‰]                       â”‚   â”‚
â”‚  â”‚            â”‚            â”‚           â”‚                            â”‚   â”‚
â”‚  â”‚         é‡è¦å®¢æˆ·      æœ‹å‹â”€â”€[ç‹äº”]  åˆä½œä¼™ä¼´                      â”‚   â”‚
â”‚  â”‚            â”‚            â”‚                                        â”‚   â”‚
â”‚  â”‚         [åˆ˜ç»ç†]    [å°æ˜-å„¿å­]                                  â”‚   â”‚
â”‚  â”‚                                                                   â”‚   â”‚
â”‚  â”‚  æ¯ä¸ªå…³ç³»èŠ‚ç‚¹åŒ…å«ï¼šå§“åã€å…³ç³»ã€è”ç³»æ–¹å¼ã€äº’åŠ¨å†å²ã€å¤‡æ³¨          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    åå¥½ç³»ç»Ÿ (Preference System)                  â”‚   â”‚
â”‚  â”‚                                                                   â”‚   â”‚
â”‚  â”‚  äº¤äº’åå¥½:                                                        â”‚   â”‚
â”‚  â”‚  - å›å¤é£æ ¼: ç®€æ´/è¯¦ç»†/å¹½é»˜/æ­£å¼                                 â”‚   â”‚
â”‚  â”‚  - ä¿¡æ¯å¯†åº¦: é«˜/ä¸­/ä½                                            â”‚   â”‚
â”‚  â”‚  - ä¸»åŠ¨ç¨‹åº¦: ç§¯æä¸»åŠ¨/é€‚åº¦æé†’/è¢«åŠ¨å“åº”                          â”‚   â”‚
â”‚  â”‚                                                                   â”‚   â”‚
â”‚  â”‚  åŠŸèƒ½åå¥½:                                                        â”‚   â”‚
â”‚  â”‚  - å¸¸ç”¨åŠŸèƒ½: æ—¥ç¨‹ç®¡ç†ã€ä»£ç åŠ©æ‰‹ã€é‚®ä»¶æ’°å†™                        â”‚   â”‚
â”‚  â”‚  - æ—¶é—´ä¹ æƒ¯: æ—©èµ·å‹/å¤œçŒ«å­ï¼Œå·¥ä½œæ—¶é—´æ®µ                           â”‚   â”‚
â”‚  â”‚  - æé†’æ–¹å¼: æå‰å¤šä¹…æé†’ï¼Œæ˜¯å¦éœ€è¦é‡å¤æé†’                      â”‚   â”‚
â”‚  â”‚                                                                   â”‚   â”‚
â”‚  â”‚  å†…å®¹åå¥½:                                                        â”‚   â”‚
â”‚  â”‚  - å…³æ³¨é¢†åŸŸ: ç§‘æŠ€ã€é‡‘èã€å¥åº·...                                 â”‚   â”‚
â”‚  â”‚  - æ–°é—»æ¥æº: åå¥½çš„ä¿¡æ¯æ¸ é“                                      â”‚   â”‚
â”‚  â”‚  - è¯­è¨€é£æ ¼: ä¸­æ–‡ä¸ºä¸»/ä¸­è‹±æ··åˆ                                   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    æƒ…æ™¯è®°å¿† (Episodic Memory)                    â”‚   â”‚
â”‚  â”‚                                                                   â”‚   â”‚
â”‚  â”‚  é‡è¦å¯¹è¯ç‰‡æ®µ:                                                    â”‚   â”‚
â”‚  â”‚  - "ç”¨æˆ·æåˆ°ä¸‹å‘¨è¦å‡ºå·®å»ä¸Šæµ·"                                     â”‚   â”‚
â”‚  â”‚  - "ç”¨æˆ·è¯´æœ€è¿‘å‹åŠ›å¾ˆå¤§ï¼Œé¡¹ç›®deadlineä¸´è¿‘"                        â”‚   â”‚
â”‚  â”‚  - "ç”¨æˆ·å–œæ¬¢ç”¨ç•ªèŒ„å·¥ä½œæ³•"                                        â”‚   â”‚
â”‚  â”‚                                                                   â”‚   â”‚
â”‚  â”‚  å­¦ä¹ åˆ°çš„æ¨¡å¼:                                                    â”‚   â”‚
â”‚  â”‚  - æ¯å‘¨ä¸€æ—©ä¸Šä¼šæŸ¥çœ‹æœ¬å‘¨æ—¥ç¨‹                                      â”‚   â”‚
â”‚  â”‚  - å†™ä»£ç æ—¶å–œæ¬¢å…ˆçœ‹ç¤ºä¾‹                                          â”‚   â”‚
â”‚  â”‚  - å‘é‚®ä»¶å‰ä¼šåå¤ç¡®è®¤                                            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    çŸ¥è¯†åº“ (Personal Knowledge Base)              â”‚   â”‚
â”‚  â”‚                                                                   â”‚   â”‚
â”‚  â”‚  ç”¨æˆ·ä¸“å±çŸ¥è¯†:                                                    â”‚   â”‚
â”‚  â”‚  - é¡¹ç›®æ–‡æ¡£ã€ä¼šè®®çºªè¦                                            â”‚   â”‚
â”‚  â”‚  - å·¥ä½œç¬”è®°ã€å­¦ä¹ èµ„æ–™                                            â”‚   â”‚
â”‚  â”‚  - å¸¸ç”¨æ¨¡æ¿ã€ä»£ç ç‰‡æ®µ                                            â”‚   â”‚
â”‚  â”‚                                                                   â”‚   â”‚
â”‚  â”‚  äº¤äº’å½¢æˆçš„çŸ¥è¯†:                                                  â”‚   â”‚
â”‚  â”‚  - å†å²é—®ç­” Q&A                                                   â”‚   â”‚
â”‚  â”‚  - è§£å†³è¿‡çš„é—®é¢˜                                                   â”‚   â”‚
â”‚  â”‚  - ç”¨æˆ·æ•™ç»™Jarvisçš„çŸ¥è¯†                                          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### è®°å¿†ç±»å‹

| ç±»å‹ | æè¿° | ç¤ºä¾‹ | å­˜å‚¨æ–¹å¼ |
|------|------|------|----------|
| **èº«ä»½è®°å¿†** | ç”¨æˆ·çš„åŸºæœ¬ä¿¡æ¯ | å§“åã€èŒä¸šã€ç”Ÿæ—¥ | ç»“æ„åŒ–æ•°æ®åº“ |
| **å…³ç³»è®°å¿†** | ç”¨æˆ·çš„ç¤¾äº¤å…³ç³» | ææ€»æ˜¯ä¸Šçº§ã€å¼ ä¸‰æ˜¯åŒäº‹ | çŸ¥è¯†å›¾è°± |
| **åå¥½è®°å¿†** | ç”¨æˆ·çš„å–œå¥½ä¹ æƒ¯ | å–œæ¬¢ç®€æ´å›å¤ã€æ—©èµ·å‹ | é”®å€¼å­˜å‚¨ |
| **æƒ…æ™¯è®°å¿†** | é‡è¦å¯¹è¯ç‰‡æ®µ | "ä¸‹å‘¨è¦å‡ºå·®" | å‘é‡æ•°æ®åº“ |
| **è¯­ä¹‰è®°å¿†** | å­¦ä¹ åˆ°çš„çŸ¥è¯† | ç”¨æˆ·çš„é¡¹ç›®èƒŒæ™¯ | RAGç³»ç»Ÿ |
| **ç¨‹åºè®°å¿†** | æ“ä½œä¹ æƒ¯æ¨¡å¼ | æ¯å‘¨ä¸€æŸ¥æ—¥ç¨‹ | è¡Œä¸ºæ—¥å¿— |

### è®°å¿†æ›´æ–°æœºåˆ¶

```python
class MemoryManager:
    """è®°å¿†ç®¡ç†å™¨ - Jarvisçš„å¤§è„‘"""
    
    async def process_interaction(self, user_id: str, message: str, response: str):
        """å¤„ç†æ¯æ¬¡äº¤äº’ï¼Œæå–å’Œæ›´æ–°è®°å¿†"""
        
        # 1. æå–æ–°ä¿¡æ¯
        extracted = await self._extract_information(message, response)
        
        # 2. æ›´æ–°èº«ä»½æ¡£æ¡ˆ
        if extracted.get("identity_info"):
            await self._update_identity(user_id, extracted["identity_info"])
        
        # 3. æ›´æ–°å…³ç³»å›¾è°±
        if extracted.get("relationships"):
            await self._update_relationships(user_id, extracted["relationships"])
        
        # 4. æ›´æ–°åå¥½
        if extracted.get("preferences"):
            await self._update_preferences(user_id, extracted["preferences"])
        
        # 5. å­˜å‚¨é‡è¦æƒ…æ™¯
        if extracted.get("important_episode"):
            await self._store_episode(user_id, extracted["important_episode"])
        
        # 6. å­¦ä¹ è¡Œä¸ºæ¨¡å¼
        await self._learn_patterns(user_id, message, response)
    
    async def _extract_information(self, message: str, response: str) -> dict:
        """ä½¿ç”¨LLMæå–å¯¹è¯ä¸­çš„å…³é”®ä¿¡æ¯"""
        
        prompt = """åˆ†æè¿™æ®µå¯¹è¯ï¼Œæå–ä»¥ä¸‹ä¿¡æ¯ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ï¼š

1. èº«ä»½ä¿¡æ¯ï¼šç”¨æˆ·é€éœ²çš„ä¸ªäººä¿¡æ¯ï¼ˆå§“åã€èŒä¸šã€å…¬å¸ç­‰ï¼‰
2. å…³ç³»ä¿¡æ¯ï¼šæåˆ°çš„äººç‰©åŠå…¶å…³ç³»ï¼ˆåŒäº‹ã€ä¸Šçº§ã€å®¶äººç­‰ï¼‰
3. åå¥½ä¿¡æ¯ï¼šè¡¨è¾¾çš„å–œå¥½æˆ–ä¹ æƒ¯
4. é‡è¦äº‹ä»¶ï¼šå€¼å¾—è®°ä½çš„äº‹æƒ…ï¼ˆå‡ºå·®ã€é¡¹ç›®ã€çº¦ä¼šç­‰ï¼‰
5. æƒ…ç»ªçŠ¶æ€ï¼šç”¨æˆ·å½“å‰çš„æƒ…ç»ª

è¿”å›JSONæ ¼å¼ï¼Œæ²¡æœ‰çš„å­—æ®µä¸è¦è¿”å›ã€‚
"""
        # è°ƒç”¨LLMæå–
        return await self.llm.extract(prompt, f"ç”¨æˆ·: {message}\nåŠ©æ‰‹: {response}")
```

---

## ğŸ”® ä¸»åŠ¨æ™ºèƒ½ç³»ç»Ÿï¼ˆProactive Intelligenceï¼‰

### ä¸»åŠ¨æœåŠ¡åœºæ™¯

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          ä¸»åŠ¨æ™ºèƒ½æœåŠ¡                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  ğŸ“… æ—¶é—´è§¦å‘                                                            â”‚
â”‚  â”œâ”€ æ—©æ™¨é—®å€™: "æ—©ä¸Šå¥½ï¼ä»Šå¤©æœ‰3ä¸ªä¼šè®®ï¼Œæœ€é‡è¦çš„æ˜¯ä¸‹åˆçš„é¡¹ç›®è¯„å®¡"        â”‚
â”‚  â”œâ”€ æ—¥ç¨‹æé†’: "15åˆ†é’Ÿåæœ‰ä¼šè®®ï¼Œéœ€è¦æˆ‘å¸®ä½ å‡†å¤‡ä¼šè®®ææ–™å—ï¼Ÿ"             â”‚
â”‚  â”œâ”€ ç”Ÿæ—¥æé†’: "æ˜å¤©æ˜¯ææ€»çš„ç”Ÿæ—¥ï¼Œè¦ä¸è¦æˆ‘å¸®ä½ å‡†å¤‡ç¥ç¦ï¼Ÿ"               â”‚
â”‚  â””â”€ å‘¨æœŸæ€»ç»“: "è¿™å‘¨ä½ å®Œæˆäº†8ä¸ªä»»åŠ¡ï¼Œæ•ˆç‡æ¯”ä¸Šå‘¨æå‡15%ï¼"               â”‚
â”‚                                                                         â”‚
â”‚  ğŸ“Š çŠ¶æ€è§¦å‘                                                            â”‚
â”‚  â”œâ”€ ä»»åŠ¡å †ç§¯: "ä½ æœ‰5ä¸ªä»»åŠ¡å³å°†åˆ°æœŸï¼Œéœ€è¦æˆ‘å¸®ä½ æ’ä¼˜å…ˆçº§å—ï¼Ÿ"            â”‚
â”‚  â”œâ”€ é•¿æ—¶é—´å·¥ä½œ: "ä½ å·²ç»è¿ç»­å·¥ä½œ3å°æ—¶äº†ï¼Œè¦ä¸è¦ä¼‘æ¯ä¸€ä¸‹ï¼Ÿ"              â”‚
â”‚  â””â”€ ç›®æ ‡è¿½è¸ª: "æœ¬æœˆé˜…è¯»ç›®æ ‡å®Œæˆ60%ï¼Œè¿˜æœ‰10å¤©ï¼ŒåŠ æ²¹ï¼"                  â”‚
â”‚                                                                         â”‚
â”‚  ğŸ¯ æƒ…æ™¯è§¦å‘                                                            â”‚
â”‚  â”œâ”€ å‡ºå·®å‰: "æ˜å¤©å‡ºå·®ä¸Šæµ·ï¼Œæˆ‘å¸®ä½ æŸ¥äº†å¤©æ°”å’Œäº¤é€šä¿¡æ¯..."                â”‚
â”‚  â”œâ”€ ä¼šè®®å‰: "ä¼šè®®å¼€å§‹å‰ï¼Œè¿™æ˜¯ä¸Šæ¬¡ä¼šè®®çš„è¦ç‚¹å›é¡¾..."                    â”‚
â”‚  â””â”€ é¡¹ç›®èŠ‚ç‚¹: "é¡¹ç›®æ˜å¤©è¦äº¤ä»˜ï¼Œè¿˜æœ‰è¿™äº›å¾…åŠéœ€è¦å®Œæˆ..."                â”‚
â”‚                                                                         â”‚
â”‚  ğŸ’¡ æ™ºèƒ½æ¨è                                                            â”‚
â”‚  â”œâ”€ åŸºäºå…´è¶£: "å‘ç°ä¸€ç¯‡å…³äºå¾®æœåŠ¡çš„å¥½æ–‡ç« ï¼Œä½ å¯èƒ½æ„Ÿå…´è¶£"               â”‚
â”‚  â”œâ”€ åŸºäºä¹ æƒ¯: "è¦å¼€å§‹ä»Šå¤©çš„ç•ªèŒ„å·¥ä½œå—ï¼Ÿ"                               â”‚
â”‚  â””â”€ åŸºäºå†å²: "ä¸Šæ¬¡ä½ é—®çš„é‚£ä¸ªæŠ€æœ¯é—®é¢˜ï¼Œæˆ‘æ‰¾åˆ°äº†æ›´å¥½çš„è§£å†³æ–¹æ¡ˆ"         â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### é¢„æµ‹å¼•æ“

```python
class PredictionEngine:
    """é¢„æµ‹å¼•æ“ - åœ¨ç”¨æˆ·å¼€å£å‰ç†è§£éœ€æ±‚"""
    
    async def predict_needs(self, user_id: str, context: dict) -> List[Prediction]:
        """é¢„æµ‹ç”¨æˆ·å¯èƒ½çš„éœ€æ±‚"""
        
        predictions = []
        
        # 1. æ—¶é—´ç»´åº¦é¢„æµ‹
        time_based = await self._predict_by_time(user_id, context["current_time"])
        predictions.extend(time_based)
        
        # 2. æ—¥ç¨‹ç»´åº¦é¢„æµ‹
        schedule_based = await self._predict_by_schedule(user_id, context["upcoming_events"])
        predictions.extend(schedule_based)
        
        # 3. è¡Œä¸ºæ¨¡å¼é¢„æµ‹
        pattern_based = await self._predict_by_pattern(user_id, context["recent_actions"])
        predictions.extend(pattern_based)
        
        # 4. ä¸Šä¸‹æ–‡é¢„æµ‹
        context_based = await self._predict_by_context(user_id, context["recent_conversation"])
        predictions.extend(context_based)
        
        # æŒ‰ç½®ä¿¡åº¦æ’åºï¼Œè¿”å›æœ€ç›¸å…³çš„é¢„æµ‹
        return sorted(predictions, key=lambda x: x.confidence, reverse=True)[:5]
```

---

## ğŸ’ æƒ…æ„Ÿæ™ºèƒ½ç³»ç»Ÿï¼ˆEmotional Intelligenceï¼‰

### æƒ…æ„Ÿæ„ŸçŸ¥

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          æƒ…æ„Ÿæ™ºèƒ½ç³»ç»Ÿ                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  ğŸ˜Š æƒ…ç»ªè¯†åˆ«                                                            â”‚
â”‚  â”œâ”€ ç§¯æ: å¼€å¿ƒã€å…´å¥‹ã€æ»¡æ„ã€æ„Ÿæ¿€                                       â”‚
â”‚  â”œâ”€ æ¶ˆæ: æ²®ä¸§ã€ç„¦è™‘ã€çƒ¦èºã€ç–²æƒ«                                       â”‚
â”‚  â”œâ”€ ä¸­æ€§: å¹³é™ã€ä¸“æ³¨ã€å¥½å¥‡                                             â”‚
â”‚  â””â”€ å¤æ‚: çº ç»“ã€æœŸå¾…åˆæ‹…å¿§                                             â”‚
â”‚                                                                         â”‚
â”‚  ğŸ­ å“åº”è°ƒæ•´                                                            â”‚
â”‚  â”œâ”€ ç”¨æˆ·å¼€å¿ƒæ—¶ â†’ æ›´æ´»æ³¼çš„å›å¤ï¼Œå¯ä»¥å¼€ç©ç¬‘                              â”‚
â”‚  â”œâ”€ ç”¨æˆ·ç„¦è™‘æ—¶ â†’ æ›´æ¸©å’Œæ”¯æŒï¼Œæä¾›å®é™…å¸®åŠ©                              â”‚
â”‚  â”œâ”€ ç”¨æˆ·å¿™ç¢Œæ—¶ â†’ ç®€æ´é«˜æ•ˆï¼Œç›´è¾¾é‡ç‚¹                                    â”‚
â”‚  â””â”€ ç”¨æˆ·ç–²æƒ«æ—¶ â†’ å…³å¿ƒçŠ¶æ€ï¼Œå»ºè®®ä¼‘æ¯                                    â”‚
â”‚                                                                         â”‚
â”‚  ğŸ’¬ æƒ…æ„Ÿå›åº”ç¤ºä¾‹                                                        â”‚
â”‚                                                                         â”‚
â”‚  ç”¨æˆ·: "åˆè¦åŠ ç­äº†..." (æ£€æµ‹åˆ°: ç–²æƒ«ã€æ— å¥ˆ)                            â”‚
â”‚  Jarvis: "è¾›è‹¦äº†ã€‚æˆ‘å¸®ä½ çœ‹äº†ä¸‹ï¼Œä»Šæ™šè¦å¤„ç†çš„ä»»åŠ¡ä¸»è¦æ˜¯è¿™3é¡¹ï¼Œ         â”‚
â”‚           æˆ‘å¯ä»¥å¸®ä½ å…ˆæ•´ç†å¥½ææ–™ï¼Œæˆ–è€…å¸®ä½ å‘æ¶ˆæ¯åè°ƒä¸€ä¸‹ï¼Ÿ"             â”‚
â”‚                                                                         â”‚
â”‚  ç”¨æˆ·: "å¤ªæ£’äº†ï¼é¡¹ç›®ç»ˆäºä¸Šçº¿äº†ï¼" (æ£€æµ‹åˆ°: å…´å¥‹ã€æˆå°±æ„Ÿ)               â”‚
â”‚  Jarvis: "æ­å–œï¼ğŸ‰ è¿™ä¸ªé¡¹ç›®ä½ èŠ±äº†ä¸å°‘å¿ƒè¡€ï¼Œç»ˆäºæœ‰äº†å›æŠ¥ï¼              â”‚
â”‚           è¦ä¸è¦æˆ‘å¸®ä½ æ•´ç†ä¸€ä»½é¡¹ç›®æ€»ç»“ï¼Œè®°å½•è¿™ä¸ªé‡Œç¨‹ç¢‘ï¼Ÿ"               â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ§© æ™ºèƒ½æ¨ç†ç³»ç»Ÿï¼ˆIntelligent Reasoningï¼‰

### ä»»åŠ¡é“¾æ¨ç†

```
ç”¨æˆ·: "æˆ‘ä¸‹å‘¨è¦å»ä¸Šæµ·å‡ºå·®è§å®¢æˆ·"

Jarvis æ¨ç†é“¾:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. ç†è§£æ ¸å¿ƒä»»åŠ¡: å‡ºå·® + è§å®¢æˆ·                                          â”‚
â”‚                                                                         â”‚
â”‚ 2. æ¨æ–­å…³è”ä»»åŠ¡:                                                        â”‚
â”‚    â”œâ”€ ğŸš„ äº¤é€šå®‰æ’ â†’ éœ€è¦è®¢ç¥¨                                           â”‚
â”‚    â”œâ”€ ğŸ¨ ä½å®¿å®‰æ’ â†’ éœ€è¦è®¢é…’åº—                                         â”‚
â”‚    â”œâ”€ â˜ï¸ å¤©æ°”æŸ¥è¯¢ â†’ ä¸Šæµ·ä¸‹å‘¨å¤©æ°”                                       â”‚
â”‚    â”œâ”€ ğŸ“… æ—¥ç¨‹è°ƒæ•´ â†’ ä¸‹å‘¨æ—¥ç¨‹éœ€è¦è°ƒæ•´                                   â”‚
â”‚    â”œâ”€ ğŸ‘” ä¼šé¢å‡†å¤‡ â†’ å®¢æˆ·èµ„æ–™ã€ä¼šè®®è®®ç¨‹                                 â”‚
â”‚    â””â”€ ğŸ“¦ è¡Œæå‡†å¤‡ â†’ å‡ºå·®ç‰©å“æ¸…å•                                       â”‚
â”‚                                                                         â”‚
â”‚ 3. ç”Ÿæˆç»¼åˆå“åº”:                                                        â”‚
â”‚    "å¥½çš„ï¼Œæˆ‘æ¥å¸®ä½ å‡†å¤‡ä¸‹å‘¨çš„ä¸Šæµ·å‡ºå·®ï¼š                                  â”‚
â”‚                                                                         â”‚
â”‚    ğŸ“ æˆ‘æŸ¥äº†ä¸‹å‘¨ä¸Šæµ·çš„å¤©æ°”ï¼Œæ°”æ¸©15-20â„ƒï¼Œå»ºè®®å¸¦ä»¶è–„å¤–å¥—                 â”‚
â”‚                                                                         â”‚
â”‚    éœ€è¦æˆ‘å¸®ä½ å®‰æ’è¿™äº›å—ï¼Ÿ                                               â”‚
â”‚    âœ… æŸ¥çœ‹/è°ƒæ•´ä¸‹å‘¨æ—¥ç¨‹                                                 â”‚
â”‚    âœ… é¢„è®¢é«˜é“ç¥¨                                                        â”‚
â”‚    âœ… é¢„è®¢é…’åº—                                                          â”‚
â”‚    âœ… å‡†å¤‡å®¢æˆ·ä¼šé¢èµ„æ–™                                                  â”‚
â”‚    âœ… ç”Ÿæˆå‡ºå·®ç‰©å“æ¸…å•"                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ä¸Šä¸‹æ–‡ç†è§£å¢å¼º

```python
class ContextualReasoning:
    """ä¸Šä¸‹æ–‡æ¨ç†å¼•æ“"""
    
    async def deep_understand(self, message: str, context: dict) -> UnderstandingResult:
        """æ·±åº¦ç†è§£ç”¨æˆ·æ„å›¾"""
        
        # 1. å­—é¢æ„å›¾
        literal_intent = await self._parse_literal(message)
        
        # 2. ç»“åˆå†å²ç†è§£
        # "å¸®æˆ‘è®¢ä¸€ä¸‹" â†’ ç»“åˆä¸Šæ–‡çŸ¥é“æ˜¯è®¢ä¼šè®®å®¤
        historical_context = await self._apply_history(message, context["recent_messages"])
        
        # 3. ç»“åˆç”¨æˆ·ç”»åƒç†è§£
        # "è€åœ°æ–¹è§" â†’ æ ¹æ®ç”¨æˆ·ä¹ æƒ¯çŸ¥é“æ˜¯å“ªé‡Œ
        profile_context = await self._apply_profile(message, context["user_profile"])
        
        # 4. ç»“åˆæ—¶é—´ç†è§£
        # "æ˜å¤©" â†’ æ ¹æ®æ—¶åŒºè®¡ç®—å…·ä½“æ—¥æœŸ
        temporal_context = await self._apply_temporal(message, context["user_timezone"])
        
        # 5. æ¨æ–­éšå«éœ€æ±‚
        # "è¦å‡ºå·®" â†’ æ¨æ–­å¯èƒ½éœ€è¦è®¢ç¥¨ã€è®¢é…’åº—
        implicit_needs = await self._infer_implicit(message, context)
        
        return UnderstandingResult(
            primary_intent=literal_intent,
            resolved_references=historical_context,
            personalized_context=profile_context,
            temporal_resolution=temporal_context,
            implicit_needs=implicit_needs
        )
```

---

## ğŸ“Š ç³»ç»Ÿæ¶æ„æ€»è§ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              ç”¨æˆ·ç•Œé¢                                    â”‚
â”‚                         (React Chat Interface)                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           å¯¹è¯ç®¡ç†å±‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    ChatService (æ ¸å¿ƒ)                            â”‚   â”‚
â”‚  â”‚  - æ¥æ”¶ç”¨æˆ·æ¶ˆæ¯                                                  â”‚   â”‚
â”‚  â”‚  - ç®¡ç†å¯¹è¯ä¼šè¯ (Session)                                        â”‚   â”‚
â”‚  â”‚  - è°ƒç”¨æ„å›¾è¯†åˆ«                                                  â”‚   â”‚
â”‚  â”‚  - è¿”å›å¯¹è¯å“åº”                                                  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           ä¸Šä¸‹æ–‡ç®¡ç†å±‚                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    MCPAgent (ä¸Šä¸‹æ–‡åè®®)                         â”‚   â”‚
â”‚  â”‚  - ç»´æŠ¤å¯¹è¯å†å²                                                  â”‚   â”‚
â”‚  â”‚  - ç®¡ç†ä¼šè¯çŠ¶æ€                                                  â”‚   â”‚
â”‚  â”‚  - ä¸Šä¸‹æ–‡å‹ç¼©å’Œä¼˜åŒ–                                              â”‚   â”‚
â”‚  â”‚  - è·¨å¯¹è¯ä¿¡æ¯æŒä¹…åŒ–                                              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           æ„å›¾è¯†åˆ«å±‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                  Coordinator (æ„å›¾åˆ†æ)                          â”‚   â”‚
â”‚  â”‚  - åˆ†æç”¨æˆ·æ„å›¾                                                  â”‚   â”‚
â”‚  â”‚  - åˆ¤æ–­æ˜¯å¦éœ€è¦æ‰§è¡Œä»»åŠ¡                                          â”‚   â”‚
â”‚  â”‚  - è·¯ç”±åˆ°å¯¹åº”Agent                                               â”‚   â”‚
â”‚  â”‚  - æ”¯æŒå¤šæ„å›¾è¯†åˆ«                                                â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                         â”‚
â”‚  æ„å›¾ç±»å‹:                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ é—²èŠå¯¹è¯ â”‚ â”‚ ä¿¡æ¯æŸ¥è¯¢ â”‚ â”‚ ä»»åŠ¡æ‰§è¡Œ â”‚ â”‚ ä»»åŠ¡æŸ¥è¯¢ â”‚ â”‚ ç³»ç»Ÿæ§åˆ¶ â”‚     â”‚
â”‚  â”‚ (chat)   â”‚ â”‚ (query)  â”‚ â”‚ (action) â”‚ â”‚ (status) â”‚ â”‚ (system) â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â†“            â†“            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           Agentæ‰§è¡Œå±‚                                    â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚  å¯¹è¯å‹Agent    â”‚  â”‚  ä»»åŠ¡å‹Agent    â”‚  â”‚  çŸ¥è¯†å‹Agent    â”‚        â”‚
â”‚  â”‚  - é—²èŠå›å¤     â”‚  â”‚  - Schedule     â”‚  â”‚  - RAG          â”‚        â”‚
â”‚  â”‚  - æƒ…æ„Ÿæ”¯æŒ     â”‚  â”‚  - Task         â”‚  â”‚  - AgenticRAG   â”‚        â”‚
â”‚  â”‚  - å»ºè®®å’¨è¯¢     â”‚  â”‚  - Email        â”‚  â”‚  - Knowledge    â”‚        â”‚
â”‚  â”‚                 â”‚  â”‚  - Meeting      â”‚  â”‚    Graph        â”‚        â”‚
â”‚  â”‚                 â”‚  â”‚  - Reminder     â”‚  â”‚                 â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚  å·¥å…·å‹Agent    â”‚  â”‚  åˆ†æå‹Agent    â”‚  â”‚  ç”Ÿæ´»å‹Agent    â”‚        â”‚
â”‚  â”‚  - Code         â”‚  â”‚  - DataAnalysis â”‚  â”‚  - Weather      â”‚        â”‚
â”‚  â”‚  - File         â”‚  â”‚  - Calculation  â”‚  â”‚  - News         â”‚        â”‚
â”‚  â”‚  - Translation  â”‚  â”‚  - Summary      â”‚  â”‚  - Travel       â”‚        â”‚
â”‚  â”‚                 â”‚  â”‚                 â”‚  â”‚  - Health       â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           æ•°æ®æŒä¹…å±‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚  â”‚   å¯¹è¯å­˜å‚¨   â”‚  â”‚   ä»»åŠ¡å­˜å‚¨   â”‚  â”‚   çŸ¥è¯†å­˜å‚¨   â”‚                  â”‚
â”‚  â”‚ Conversation â”‚  â”‚    Tasks     â”‚  â”‚  Knowledge   â”‚                  â”‚
â”‚  â”‚   Messages   â”‚  â”‚  Schedules   â”‚  â”‚    Graph     â”‚                  â”‚
â”‚  â”‚   Sessions   â”‚  â”‚  Reminders   â”‚  â”‚  Documents   â”‚                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ å¯¹è¯æµç¨‹è®¾è®¡

### æ ¸å¿ƒå¯¹è¯æµç¨‹

```
ç”¨æˆ·: "æ˜å¤©ä¸‹åˆ3ç‚¹å¸®æˆ‘å®‰æ’ä¸€ä¸ªä¼šè®®"
                    â”‚
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. ChatService æ¥æ”¶æ¶ˆæ¯                                          â”‚
â”‚    - è·å–/åˆ›å»ºä¼šè¯ (session_id)                                  â”‚
â”‚    - è®°å½•ç”¨æˆ·æ¶ˆæ¯åˆ°å¯¹è¯å†å²                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. MCPAgent åŠ è½½ä¸Šä¸‹æ–‡                                           â”‚
â”‚    - è·å–æœ€è¿‘Nè½®å¯¹è¯å†å²                                         â”‚
â”‚    - è·å–ç”¨æˆ·åå¥½è®¾ç½®                                            â”‚
â”‚    - è·å–ç›¸å…³ä»»åŠ¡çŠ¶æ€                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. Coordinator åˆ†ææ„å›¾                                          â”‚
â”‚    è¾“å…¥: ç”¨æˆ·æ¶ˆæ¯ + å¯¹è¯ä¸Šä¸‹æ–‡                                    â”‚
â”‚    è¾“å‡º: {                                                       â”‚
â”‚      "intent": "action",                                         â”‚
â”‚      "action_type": "schedule",                                  â”‚
â”‚      "confidence": 0.95,                                         â”‚
â”‚      "entities": {                                               â”‚
â”‚        "time": "æ˜å¤©ä¸‹åˆ3ç‚¹",                                     â”‚
â”‚        "event_type": "ä¼šè®®"                                       â”‚
â”‚      },                                                          â”‚
â”‚      "needs_clarification": false                                â”‚
â”‚    }                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. è·¯ç”±å†³ç­–                                                      â”‚
â”‚    - intent=chat â†’ ç›´æ¥å¯¹è¯å›å¤                                  â”‚
â”‚    - intent=query â†’ è°ƒç”¨çŸ¥è¯†AgentæŸ¥è¯¢                            â”‚
â”‚    - intent=action â†’ è°ƒç”¨ä»»åŠ¡Agentæ‰§è¡Œ                           â”‚
â”‚    - needs_clarification=true â†’ è¿½é—®ç”¨æˆ·                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5. ScheduleAgent æ‰§è¡Œä»»åŠ¡                                        â”‚
â”‚    - è§£ææ—¶é—´: æ˜å¤©ä¸‹åˆ3ç‚¹ â†’ 2026-01-16 15:00                    â”‚
â”‚    - åˆ›å»ºæ—¥ç¨‹è®°å½•                                                â”‚
â”‚    - è¿”å›æ‰§è¡Œç»“æœ                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 6. ç”Ÿæˆå¯¹è¯å“åº”                                                  â”‚
â”‚    - ç»„ç»‡è‡ªç„¶è¯­è¨€å›å¤                                            â”‚
â”‚    - ç¡®è®¤ä»»åŠ¡æ‰§è¡ŒçŠ¶æ€                                            â”‚
â”‚    - è¯¢é—®æ˜¯å¦éœ€è¦è¡¥å……ä¿¡æ¯                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â†“
Jarvis: "å¥½çš„ï¼Œæˆ‘å·²ç»å¸®æ‚¨åœ¨æ˜å¤©ï¼ˆ1æœˆ16æ—¥ï¼‰ä¸‹åˆ3ç‚¹å®‰æ’äº†ä¸€ä¸ªä¼šè®®ã€‚
         è¯·é—®éœ€è¦æ·»åŠ ä¼šè®®ä¸»é¢˜æˆ–é‚€è¯·å‚ä¼šäººå—ï¼Ÿ"
```

---

## ğŸ’¬ å¯¹è¯ç±»å‹è®¾è®¡

### 1. é—²èŠå¯¹è¯ (Chat)
```
ç”¨æˆ·: "ä½ å¥½"
Jarvis: "ä½ å¥½ï¼æˆ‘æ˜¯Jarvisï¼Œå¾ˆé«˜å…´ä¸ºæ‚¨æœåŠ¡ã€‚æœ‰ä»€ä¹ˆæˆ‘å¯ä»¥å¸®æ‚¨çš„å—ï¼Ÿ"

ç”¨æˆ·: "ä»Šå¤©å¿ƒæƒ…ä¸å¤ªå¥½"
Jarvis: "ç†è§£æ‚¨çš„æ„Ÿå—ã€‚å¦‚æœæ„¿æ„çš„è¯ï¼Œå¯ä»¥å‘Šè¯‰æˆ‘å‘ç”Ÿäº†ä»€ä¹ˆï¼Œ
        æˆ–è€…æˆ‘å¯ä»¥å¸®æ‚¨å®‰æ’ä¸€äº›æ”¾æ¾çš„æ´»åŠ¨ï¼Ÿ"
```

### 2. ä¿¡æ¯æŸ¥è¯¢ (Query)
```
ç”¨æˆ·: "ä»€ä¹ˆæ˜¯å¾®æœåŠ¡æ¶æ„ï¼Ÿ"
Jarvis: [è°ƒç”¨RAGAgent/InfoRetrievalAgent]
        "å¾®æœåŠ¡æ¶æ„æ˜¯ä¸€ç§è½¯ä»¶æ¶æ„é£æ ¼ï¼Œå°†åº”ç”¨ç¨‹åºæ„å»ºä¸º..."

ç”¨æˆ·: "æˆ‘æ˜å¤©æœ‰ä»€ä¹ˆå®‰æ’ï¼Ÿ"  
Jarvis: [è°ƒç”¨ScheduleAgentæŸ¥è¯¢]
        "æ‚¨æ˜å¤©çš„å®‰æ’å¦‚ä¸‹ï¼š
         - 09:00 æ™¨ä¼š
         - 15:00 é¡¹ç›®è¯„å®¡ä¼šè®®
         - è¿˜æœ‰2ä¸ªå¾…åŠäº‹é¡¹æœªå®Œæˆ"
```

### 3. ä»»åŠ¡æ‰§è¡Œ (Action)
```
ç”¨æˆ·: "å¸®æˆ‘åˆ›å»ºä¸€ä¸ªæé†’ï¼Œä¸‹å‘¨äº”äº¤æŠ¥å‘Š"
Jarvis: [è°ƒç”¨ReminderAgent]
        "å¥½çš„ï¼Œæˆ‘å·²åˆ›å»ºæé†’ï¼š
         ğŸ“… ä¸‹å‘¨äº”ï¼ˆ1æœˆ22æ—¥ï¼‰
         ğŸ“ å†…å®¹ï¼šäº¤æŠ¥å‘Š
         éœ€è¦è®¾ç½®å…·ä½“æ—¶é—´å—ï¼Ÿ"

ç”¨æˆ·: "ä¸Šåˆ9ç‚¹æé†’æˆ‘"
Jarvis: [æ›´æ–°æé†’]
        "å·²æ›´æ–°ï¼Œå°†åœ¨1æœˆ22æ—¥ä¸Šåˆ9ç‚¹æé†’æ‚¨äº¤æŠ¥å‘Šã€‚"
```

### 4. å¤šè½®å¯¹è¯ (Multi-turn)
```
ç”¨æˆ·: "å¸®æˆ‘å†™ä¸€å°é‚®ä»¶"
Jarvis: "å¥½çš„ï¼Œè¯·é—®é‚®ä»¶æ˜¯å‘ç»™è°çš„ï¼Ÿ"

ç”¨æˆ·: "å‘ç»™ææ€»"
Jarvis: "æ”¶åˆ°ã€‚è¯·é—®é‚®ä»¶çš„ä¸»é¢˜æ˜¯ä»€ä¹ˆï¼Ÿ"

ç”¨æˆ·: "å…³äºé¡¹ç›®è¿›åº¦æ±‡æŠ¥"
Jarvis: "æ˜ç™½äº†ã€‚è¯·é—®æ‚¨å¸Œæœ›é‚®ä»¶çš„è¯­æ°”æ˜¯æ­£å¼è¿˜æ˜¯éšæ„ä¸€äº›ï¼Ÿ"

ç”¨æˆ·: "æ­£å¼ä¸€ç‚¹"
Jarvis: [è°ƒç”¨EmailAgentç”Ÿæˆ]
        "å¥½çš„ï¼Œæˆ‘ä¸ºæ‚¨èµ·è‰äº†ä»¥ä¸‹é‚®ä»¶ï¼š
        
        ä¸»é¢˜ï¼šé¡¹ç›®è¿›åº¦æ±‡æŠ¥
        
        å°Šæ•¬çš„ææ€»ï¼š
        ...
        
        è¯·é—®éœ€è¦ä¿®æ”¹å—ï¼Ÿ"
```

---

## ğŸ“ æ•°æ®æ¨¡å‹è®¾è®¡

### å¯¹è¯ç›¸å…³æ¨¡å‹

```python
# ä¼šè¯æ¨¡å‹
class Session(Base):
    __tablename__ = "sessions"
    
    id = Column(String(100), primary_key=True)  # UUID
    user_id = Column(String(100), nullable=False)
    title = Column(String(200))  # ä¼šè¯æ ‡é¢˜ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰
    created_at = Column(DateTime, default=datetime.utcnow)
    updated_at = Column(DateTime, onupdate=datetime.utcnow)
    is_active = Column(Boolean, default=True)
    
    # å…³ç³»
    messages = relationship("Message", back_populates="session")


# æ¶ˆæ¯æ¨¡å‹
class Message(Base):
    __tablename__ = "messages"
    
    id = Column(Integer, primary_key=True)
    session_id = Column(String(100), ForeignKey("sessions.id"))
    role = Column(String(20))  # user, assistant, system
    content = Column(Text, nullable=False)
    
    # æ¶ˆæ¯å…ƒæ•°æ®
    intent = Column(String(50))  # chat, query, action, status
    agent_used = Column(String(50))  # è°ƒç”¨çš„Agent
    task_id = Column(Integer)  # å…³è”çš„ä»»åŠ¡IDï¼ˆå¦‚æœ‰ï¼‰
    
    created_at = Column(DateTime, default=datetime.utcnow)
    
    # å…³ç³»
    session = relationship("Session", back_populates="messages")
```

---

## ğŸ”Œ APIè®¾è®¡

### å¯¹è¯APIï¼ˆæ ¸å¿ƒï¼‰

```python
# POST /api/chat
# å‘é€æ¶ˆæ¯å¹¶è·å–å›å¤
{
    "session_id": "uuid-xxx",  # å¯é€‰ï¼Œä¸ä¼ åˆ™åˆ›å»ºæ–°ä¼šè¯
    "message": "æ˜å¤©ä¸‹åˆ3ç‚¹å¸®æˆ‘å®‰æ’ä¸€ä¸ªä¼šè®®"
}

# Response
{
    "session_id": "uuid-xxx",
    "message_id": 123,
    "response": "å¥½çš„ï¼Œæˆ‘å·²ç»å¸®æ‚¨åœ¨æ˜å¤©ä¸‹åˆ3ç‚¹å®‰æ’äº†ä¸€ä¸ªä¼šè®®...",
    "intent": "action",
    "action_result": {
        "type": "schedule_created",
        "schedule_id": 456,
        "details": {...}
    },
    "suggestions": [
        "æ·»åŠ ä¼šè®®ä¸»é¢˜",
        "é‚€è¯·å‚ä¼šäºº",
        "è®¾ç½®æé†’"
    ]
}

# GET /api/chat/sessions
# è·å–ä¼šè¯åˆ—è¡¨

# GET /api/chat/sessions/{session_id}/messages
# è·å–ä¼šè¯å†å²

# DELETE /api/chat/sessions/{session_id}
# åˆ é™¤ä¼šè¯
```

### ä»»åŠ¡APIï¼ˆåå°ï¼‰
```python
# GET /api/tasks
# è·å–ä»»åŠ¡åˆ—è¡¨ï¼ˆæ—¥ç¨‹ã€æé†’ã€å¾…åŠç­‰ï¼‰

# GET /api/tasks/{task_id}
# è·å–ä»»åŠ¡è¯¦æƒ…

# PUT /api/tasks/{task_id}
# æ›´æ–°ä»»åŠ¡

# DELETE /api/tasks/{task_id}
# åˆ é™¤ä»»åŠ¡
```

---

## ğŸ–¥ï¸ å‰ç«¯ç•Œé¢è®¾è®¡

### ä¸»ç•Œé¢å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ¤– Jarvis                              [æ–°å¯¹è¯] [å†å²] [è®¾ç½®]       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                 â”‚                                                   â”‚
â”‚  ä¼šè¯åˆ—è¡¨        â”‚              å¯¹è¯åŒºåŸŸ                             â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€      â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  ğŸ“ ä»Šå¤©        â”‚  â”‚ ğŸ‘¤ ä½ å¥½                                      â”‚ â”‚
â”‚  Â· ä¼šè®®å®‰æ’     â”‚  â”‚                                              â”‚ â”‚
â”‚  Â· é¡¹ç›®è®¨è®º     â”‚  â”‚ ğŸ¤– ä½ å¥½ï¼æˆ‘æ˜¯Jarvisï¼Œå¾ˆé«˜å…´ä¸ºæ‚¨æœåŠ¡ã€‚        â”‚ â”‚
â”‚                 â”‚  â”‚    æœ‰ä»€ä¹ˆæˆ‘å¯ä»¥å¸®æ‚¨çš„å—ï¼Ÿ                     â”‚ â”‚
â”‚  ğŸ“ æ˜¨å¤©        â”‚  â”‚                                              â”‚ â”‚
â”‚  Â· å­¦ä¹ è®¡åˆ’     â”‚  â”‚ ğŸ‘¤ å¸®æˆ‘å®‰æ’æ˜å¤©ä¸‹åˆ3ç‚¹çš„ä¼šè®®                 â”‚ â”‚
â”‚  Â· ä»£ç é—®é¢˜     â”‚  â”‚                                              â”‚ â”‚
â”‚                 â”‚  â”‚ ğŸ¤– å¥½çš„ï¼Œæˆ‘å·²ç»å¸®æ‚¨å®‰æ’äº†ä¼šè®®ï¼š               â”‚ â”‚
â”‚  ğŸ“ æ›´æ—©        â”‚  â”‚    ğŸ“… æ—¶é—´ï¼šæ˜å¤©ä¸‹åˆ3ç‚¹                      â”‚ â”‚
â”‚  Â· ...         â”‚  â”‚    âœ… å·²æ·»åŠ åˆ°æ—¥ç¨‹                           â”‚ â”‚
â”‚                 â”‚  â”‚                                              â”‚ â”‚
â”‚                 â”‚  â”‚    éœ€è¦æ·»åŠ ä¼šè®®ä¸»é¢˜æˆ–å‚ä¼šäººå—ï¼Ÿ               â”‚ â”‚
â”‚                 â”‚  â”‚    [æ·»åŠ ä¸»é¢˜] [é‚€è¯·å‚ä¼šäºº] [å®Œæˆ]            â”‚ â”‚
â”‚                 â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                 â”‚                                                   â”‚
â”‚                 â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚                 â”‚  â”‚ è¾“å…¥æ¶ˆæ¯...                          [å‘é€] â”‚ â”‚
â”‚                 â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                 â”‚                                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ’¡ å¿«æ·æ“ä½œ: [æŸ¥çœ‹æ—¥ç¨‹] [å¾…åŠäº‹é¡¹] [è®¾ç½®æé†’] [å†™é‚®ä»¶]             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ¶ˆæ¯ç±»å‹å±•ç¤º

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ™®é€šæ–‡æœ¬æ¶ˆæ¯                                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ¤– å¥½çš„ï¼Œæˆ‘å·²ç»å¸®æ‚¨å®‰æ’äº†æ˜å¤©ä¸‹åˆ3ç‚¹çš„ä¼šè®®ã€‚                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ä»»åŠ¡å¡ç‰‡æ¶ˆæ¯                                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ¤– å·²åˆ›å»ºæ—¥ç¨‹                                                   â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ ğŸ“… é¡¹ç›®è¯„å®¡ä¼šè®®                                          â”‚    â”‚
â”‚ â”‚ â° 2026-01-16 15:00                                      â”‚    â”‚
â”‚ â”‚ ğŸ“ æœªè®¾ç½®åœ°ç‚¹                                            â”‚    â”‚
â”‚ â”‚ [ç¼–è¾‘] [åˆ é™¤] [è®¾ç½®æé†’]                                 â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ä»£ç å—æ¶ˆæ¯                                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ¤– è¿™æ˜¯å¿«é€Ÿæ’åºçš„Pythonå®ç°ï¼š                                   â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ ```python                                                â”‚    â”‚
â”‚ â”‚ def quicksort(arr):                                      â”‚    â”‚
â”‚ â”‚     if len(arr) <= 1:                                    â”‚    â”‚
â”‚ â”‚         return arr                                       â”‚    â”‚
â”‚ â”‚     ...                                                  â”‚    â”‚
â”‚ â”‚ ```                                                      â”‚    â”‚
â”‚ â”‚ [å¤åˆ¶ä»£ç ] [åœ¨ç¼–è¾‘å™¨ä¸­æ‰“å¼€]                              â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å»ºè®®é€‰é¡¹æ¶ˆæ¯                                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ¤– è¯·é€‰æ‹©é‚®ä»¶çš„è¯­æ°”ï¼š                                           â”‚
â”‚                                                                  â”‚
â”‚ [æ­£å¼] [å‹å¥½] [ç®€æ´]                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ—ï¸ æŠ€æœ¯å®ç°è¦ç‚¹

### 1. ChatService æ ¸å¿ƒæœåŠ¡

```python
class ChatService:
    """å¯¹è¯æœåŠ¡æ ¸å¿ƒ"""
    
    async def chat(self, session_id: str, message: str, user_id: str) -> ChatResponse:
        """å¤„ç†ç”¨æˆ·æ¶ˆæ¯"""
        
        # 1. è·å–æˆ–åˆ›å»ºä¼šè¯
        session = await self._get_or_create_session(session_id, user_id)
        
        # 2. ä¿å­˜ç”¨æˆ·æ¶ˆæ¯
        await self._save_message(session.id, "user", message)
        
        # 3. åŠ è½½å¯¹è¯ä¸Šä¸‹æ–‡
        context = await self.mcp_agent.load_context(session.id)
        
        # 4. åˆ†ææ„å›¾
        intent_result = await self.coordinator.analyze_intent(message, context)
        
        # 5. æ ¹æ®æ„å›¾å¤„ç†
        if intent_result["intent"] == "chat":
            response = await self._handle_chat(message, context)
        elif intent_result["intent"] == "query":
            response = await self._handle_query(message, context, intent_result)
        elif intent_result["intent"] == "action":
            response = await self._handle_action(message, context, intent_result)
        else:
            response = await self._handle_unknown(message, context)
        
        # 6. ä¿å­˜åŠ©æ‰‹å›å¤
        await self._save_message(session.id, "assistant", response.content)
        
        # 7. æ›´æ–°ä¸Šä¸‹æ–‡
        await self.mcp_agent.update_context(session.id, message, response)
        
        return response
```

### 2. æ„å›¾è¯†åˆ«å¢å¼º

```python
class Coordinator:
    """æ„å›¾åè°ƒå™¨"""
    
    async def analyze_intent(self, message: str, context: dict) -> dict:
        """åˆ†æç”¨æˆ·æ„å›¾"""
        
        system_prompt = """ä½ æ˜¯ä¸€ä¸ªæ„å›¾åˆ†æä¸“å®¶ã€‚åˆ†æç”¨æˆ·æ¶ˆæ¯ï¼Œè¯†åˆ«æ„å›¾ç±»å‹ã€‚

æ„å›¾ç±»å‹ï¼š
- chat: é—²èŠã€é—®å€™ã€æƒ…æ„Ÿè¡¨è¾¾
- query: ä¿¡æ¯æŸ¥è¯¢ã€çŸ¥è¯†é—®ç­”
- action: éœ€è¦æ‰§è¡Œä»»åŠ¡ï¼ˆåˆ›å»ºæ—¥ç¨‹ã€è®¾ç½®æé†’ã€å‘é‚®ä»¶ç­‰ï¼‰
- status: æŸ¥è¯¢ä»»åŠ¡çŠ¶æ€ã€è¿›åº¦
- system: ç³»ç»Ÿè®¾ç½®ã€åå¥½è°ƒæ•´

è¿”å›JSONæ ¼å¼ï¼š
{
    "intent": "æ„å›¾ç±»å‹",
    "confidence": 0.95,
    "action_type": "å…·ä½“åŠ¨ä½œç±»å‹ï¼ˆactionæ—¶ï¼‰",
    "entities": {
        "æå–çš„å®ä½“"
    },
    "needs_clarification": false,
    "clarification_question": "éœ€è¦è¿½é—®çš„é—®é¢˜"
}"""

        # è°ƒç”¨LLMåˆ†æ
        response = await self.process_with_llm(
            f"å¯¹è¯ä¸Šä¸‹æ–‡:\n{context}\n\nç”¨æˆ·æ¶ˆæ¯: {message}",
            system_prompt
        )
        
        return json.loads(response)
```

### 3. å¤šè½®å¯¹è¯çŠ¶æ€ç®¡ç†

```python
class MCPAgent:
    """ä¸Šä¸‹æ–‡ç®¡ç†"""
    
    async def load_context(self, session_id: str) -> dict:
        """åŠ è½½å¯¹è¯ä¸Šä¸‹æ–‡"""
        
        # è·å–æœ€è¿‘çš„å¯¹è¯å†å²
        messages = await self._get_recent_messages(session_id, limit=10)
        
        # è·å–å¾…å¤„ç†çš„ä»»åŠ¡
        pending_tasks = await self._get_pending_tasks(session_id)
        
        # è·å–ç”¨æˆ·åå¥½
        user_prefs = await self._get_user_preferences(session_id)
        
        return {
            "history": messages,
            "pending_tasks": pending_tasks,
            "preferences": user_prefs,
            "current_topic": self._extract_topic(messages)
        }
```

---

## ğŸ“Š ä¸åŸæ¶æ„å¯¹æ¯”

| æ–¹é¢ | åŸæ¶æ„ | æ–°æ¶æ„ |
|------|--------|--------|
| **äº¤äº’æ–¹å¼** | å•æ¬¡ä»»åŠ¡æäº¤ | å¯¹è¯å¼äº¤äº’ |
| **ä¸Šä¸‹æ–‡** | æ— çŠ¶æ€ | å¤šè½®å¯¹è¯ä¸Šä¸‹æ–‡ |
| **æ„å›¾è¯†åˆ«** | ç®€å•åˆ†ç±» | å¤šå±‚æ¬¡æ„å›¾åˆ†æ |
| **ä»»åŠ¡åˆ›å»º** | ç›´æ¥åˆ›å»º | å¯¹è¯ä¸­ç¡®è®¤ååˆ›å»º |
| **ç”¨æˆ·ä½“éªŒ** | è¡¨å•å¼ | è‡ªç„¶å¯¹è¯å¼ |
| **çµæ´»æ€§** | å›ºå®šæµç¨‹ | åŠ¨æ€å¯¹è¯æµç¨‹ |

---

## ğŸš€ å®ç°ä¼˜å…ˆçº§

### Phase 1: åŸºç¡€å¯¹è¯æ¡†æ¶
1. [ ] Session/Message æ•°æ®æ¨¡å‹
2. [ ] ChatService æ ¸å¿ƒæœåŠ¡
3. [ ] åŸºç¡€å¯¹è¯API
4. [ ] å‰ç«¯å¯¹è¯ç•Œé¢

### Phase 2: æ„å›¾è¯†åˆ«å¢å¼º
1. [ ] Coordinator æ„å›¾åˆ†æå‡çº§
2. [ ] å¤šè½®å¯¹è¯çŠ¶æ€ç®¡ç†
3. [ ] å®ä½“æå–ä¼˜åŒ–

### Phase 3: Agenté›†æˆ
1. [ ] ä»»åŠ¡å‹Agentå¯¹è¯é€‚é…
2. [ ] æŸ¥è¯¢å‹Agentå¯¹è¯é€‚é…
3. [ ] ç»“æœå±•ç¤ºç»„ä»¶

### Phase 4: é«˜çº§åŠŸèƒ½
1. [ ] å¯¹è¯å†å²æœç´¢
2. [ ] ä¸Šä¸‹æ–‡æ™ºèƒ½å‹ç¼©
3. [ ] ç”¨æˆ·åå¥½å­¦ä¹ 

---

## ğŸ“ æ€»ç»“

æ–°æ¶æ„çš„æ ¸å¿ƒæ”¹å˜ï¼š

1. **å¯¹è¯ä¼˜å…ˆ** - æ‰€æœ‰äº¤äº’éƒ½é€šè¿‡è‡ªç„¶å¯¹è¯è¿›è¡Œ
2. **ä¸Šä¸‹æ–‡æ„ŸçŸ¥** - ä¿æŒå¯¹è¯è¿è´¯ï¼Œç†è§£ä¸Šä¸‹æ–‡
3. **æ™ºèƒ½æ„å›¾** - å‡†ç¡®è¯†åˆ«ç”¨æˆ·æ„å›¾ï¼Œé€‚æ—¶æ‰§è¡Œä»»åŠ¡
4. **è‡ªç„¶ç¡®è®¤** - ä»»åŠ¡æ‰§è¡Œå‰é€šè¿‡å¯¹è¯ç¡®è®¤
5. **çµæ´»äº¤äº’** - æ”¯æŒå¤šè½®å¯¹è¯ã€è¿½é—®ã€æ¾„æ¸…

è¿™æ ·çš„è®¾è®¡æ›´ç¬¦åˆ"æ™ºèƒ½åŠ©æ‰‹"çš„å®šä½ï¼Œè€Œä¸æ˜¯ç®€å•çš„"ä»»åŠ¡æäº¤ç³»ç»Ÿ"ã€‚

---

## ğŸ” éšç§ä¸å®‰å…¨

### æ•°æ®å®‰å…¨åŸåˆ™

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          éšç§ä¿æŠ¤è®¾è®¡                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  ğŸ”’ æ•°æ®å­˜å‚¨å®‰å…¨                                                        â”‚
â”‚  â”œâ”€ æ‰€æœ‰ä¸ªäººæ•°æ®æœ¬åœ°å­˜å‚¨ï¼Œä¸ä¸Šä¼ äº‘ç«¯                                   â”‚
â”‚  â”œâ”€ æ•æ„Ÿä¿¡æ¯åŠ å¯†å­˜å‚¨ï¼ˆAES-256ï¼‰                                        â”‚
â”‚  â”œâ”€ æ”¯æŒæ•°æ®å¯¼å‡ºå’Œå®Œå…¨åˆ é™¤                                             â”‚
â”‚  â””â”€ å®šæœŸæ•°æ®å¤‡ä»½                                                        â”‚
â”‚                                                                         â”‚
â”‚  ğŸ›¡ï¸ è®¿é—®æ§åˆ¶                                                           â”‚
â”‚  â”œâ”€ å¤šç”¨æˆ·éš”ç¦»ï¼Œæ•°æ®äº’ä¸å¯è§                                           â”‚
â”‚  â”œâ”€ èº«ä»½éªŒè¯å¿…é¡»                                                        â”‚
â”‚  â””â”€ æ“ä½œæ—¥å¿—å®¡è®¡                                                        â”‚
â”‚                                                                         â”‚
â”‚  âš™ï¸ ç”¨æˆ·æ§åˆ¶                                                            â”‚
â”‚  â”œâ”€ å¯é€‰æ‹©è®°å¿†å“ªäº›ä¿¡æ¯                                                 â”‚
â”‚  â”œâ”€ å¯éšæ—¶æŸ¥çœ‹/åˆ é™¤è®°å¿†                                                â”‚
â”‚  â”œâ”€ å¯å…³é—­ä¸»åŠ¨æœåŠ¡                                                     â”‚
â”‚  â””â”€ å¯è°ƒæ•´AIæƒé™èŒƒå›´                                                   â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“¡ å¤šç«¯åŒæ­¥æ¶æ„

### è·¨è®¾å¤‡ä½“éªŒ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          å¤šç«¯åŒæ­¥                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚       ğŸ’» Webç«¯              ğŸ“± ç§»åŠ¨ç«¯             ğŸ–¥ï¸ æ¡Œé¢ç«¯             â”‚
â”‚          â”‚                    â”‚                     â”‚                   â”‚
â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚                               â”‚                                         â”‚
â”‚                               â†“                                         â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                              â”‚
â”‚                    â”‚    åŒæ­¥æœåŠ¡å±‚       â”‚                              â”‚
â”‚                    â”‚  - å¯¹è¯åŒæ­¥         â”‚                              â”‚
â”‚                    â”‚  - è®°å¿†åŒæ­¥         â”‚                              â”‚
â”‚                    â”‚  - ä»»åŠ¡åŒæ­¥         â”‚                              â”‚
â”‚                    â”‚  - è®¾ç½®åŒæ­¥         â”‚                              â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                              â”‚
â”‚                               â”‚                                         â”‚
â”‚                               â†“                                         â”‚
â”‚  åœºæ™¯ç¤ºä¾‹:                                                              â”‚
â”‚  1. ç”µè„‘ä¸Šè¯´"æé†’æˆ‘ä¸‹ç­ä¹°èœ" â†’ æ‰‹æœºåœ¨ä¸‹ç­æ—¶æ¨é€æé†’                    â”‚
â”‚  2. æ‰‹æœºä¸ŠæŸ¥è¯¢ä¿¡æ¯ â†’ ç”µè„‘ä¸Šå¯ä»¥ç»§ç»­ä¹‹å‰çš„å¯¹è¯                          â”‚
â”‚  3. ä»»ä½•è®¾å¤‡éƒ½èƒ½è®¿é—®å®Œæ•´çš„å¯¹è¯å†å²å’Œä¸ªäººè®°å¿†                           â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¨ ä¸ªæ€§åŒ–äº¤äº’é£æ ¼

### é£æ ¼é…ç½®

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          äº¤äº’é£æ ¼ç³»ç»Ÿ                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  ğŸ­ é¢„è®¾é£æ ¼                                                            â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ ä¸“ä¸šåŠ©ç†    â”‚ â”‚ è´´å¿ƒæœ‹å‹    â”‚ â”‚ æç®€ä¸»ä¹‰    â”‚ â”‚ å¹½é»˜æ­æ¡£    â”‚       â”‚
â”‚  â”‚             â”‚ â”‚             â”‚ â”‚             â”‚ â”‚             â”‚       â”‚
â”‚  â”‚ æ­£å¼ã€ä¸“ä¸š  â”‚ â”‚ æ¸©æš–ã€å…³å¿ƒ  â”‚ â”‚ ç®€æ´ã€é«˜æ•ˆ  â”‚ â”‚ è½»æ¾ã€æœ‰è¶£  â”‚       â”‚
â”‚  â”‚ æ¡ç†æ¸…æ™°    â”‚ â”‚ æƒ…æ„Ÿä¸°å¯Œ    â”‚ â”‚ ç›´è¾¾é‡ç‚¹    â”‚ â”‚ å¶å°”ç©ç¬‘    â”‚       â”‚
â”‚  â”‚ æ•°æ®é©±åŠ¨    â”‚ â”‚ ä¸»åŠ¨å…³æ€€    â”‚ â”‚ å‡å°‘åºŸè¯    â”‚ â”‚ åˆ›æ„è¡¨è¾¾    â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                                         â”‚
â”‚  âš™ï¸ è‡ªå®šä¹‰é€‰é¡¹                                                          â”‚
â”‚  â”œâ”€ ç§°å‘¼æ–¹å¼: æ‚¨/ä½ /æ˜µç§°                                               â”‚
â”‚  â”œâ”€ å›å¤é•¿åº¦: ç®€æ´/é€‚ä¸­/è¯¦ç»†                                           â”‚
â”‚  â”œâ”€ è¡¨æƒ…ä½¿ç”¨: å¤šç”¨/é€‚åº¦/ä¸ç”¨                                           â”‚
â”‚  â”œâ”€ ä¸»åŠ¨ç¨‹åº¦: ç§¯æ/é€‚åº¦/è¢«åŠ¨                                           â”‚
â”‚  â””â”€ ç‰¹æ®ŠæŒ‡ä»¤: è‡ªå®šä¹‰çš„äº¤äº’è§„åˆ™                                         â”‚
â”‚                                                                         â”‚
â”‚  ğŸ“ é£æ ¼ç¤ºä¾‹å¯¹æ¯”                                                        â”‚
â”‚                                                                         â”‚
â”‚  ç”¨æˆ·: "æ˜å¤©å¤©æ°”æ€ä¹ˆæ ·"                                                 â”‚
â”‚                                                                         â”‚
â”‚  [ä¸“ä¸šåŠ©ç†] "æ˜å¤©åŒ—äº¬å¤©æ°”ï¼šæ™´ï¼Œ15-22â„ƒï¼Œç©ºæ°”è´¨é‡è‰¯ï¼Œ                    â”‚
â”‚             å»ºè®®ç©¿ç€è–„å¤–å¥—ï¼Œé€‚åˆæˆ·å¤–æ´»åŠ¨ã€‚"                             â”‚
â”‚                                                                         â”‚
â”‚  [è´´å¿ƒæœ‹å‹] "æ˜å¤©å¤©æ°”è¶…æ£’çš„ï¼â˜€ï¸ 15åˆ°22åº¦ï¼Œå¾ˆèˆ’æœï½                      â”‚
â”‚             è¦ä¸è¦è¶å¥½å¤©æ°”å‡ºå»èµ°èµ°ï¼Ÿ"                                   â”‚
â”‚                                                                         â”‚
â”‚  [æç®€ä¸»ä¹‰] "æ˜å¤©ï¼šæ™´ï¼Œ15-22â„ƒ"                                         â”‚
â”‚                                                                         â”‚
â”‚  [å¹½é»˜æ­æ¡£] "æ˜å¤©é˜³å…‰æ˜åªšï¼ç»ˆäºä¸ç”¨å½“'å®…å®¶åºŸç‰©'çš„å¥½å€Ÿå£äº† ğŸ˜„            â”‚
â”‚             15-22åº¦ï¼Œç©¿å•¥éƒ½è¡Œï¼Œåæ­£ä¸å†·ä¸çƒ­ï½"                          â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ å­¦ä¹ ä¸è¿›åŒ–

### æŒç»­å­¦ä¹ æœºåˆ¶

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          æŒç»­å­¦ä¹ ç³»ç»Ÿ                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  ğŸ“ˆ è¡Œä¸ºå­¦ä¹                                                             â”‚
â”‚  â”œâ”€ åˆ†æç”¨æˆ·ä½¿ç”¨æ¨¡å¼                                                   â”‚
â”‚  â”œâ”€ è¯†åˆ«å¸¸ç”¨åŠŸèƒ½å’Œåœºæ™¯                                                 â”‚
â”‚  â”œâ”€ å­¦ä¹ æœ€ä½³äº¤äº’æ—¶æœº                                                   â”‚
â”‚  â””â”€ ä¼˜åŒ–å“åº”ç­–ç•¥                                                        â”‚
â”‚                                                                         â”‚
â”‚  ğŸ’¬ å¯¹è¯å­¦ä¹                                                             â”‚
â”‚  â”œâ”€ ä»çº æ­£ä¸­å­¦ä¹ ï¼ˆç”¨æˆ·è¯´"ä¸æ˜¯è¿™ä¸ªæ„æ€"ï¼‰                              â”‚
â”‚  â”œâ”€ ä»è¿½é—®ä¸­å­¦ä¹ ï¼ˆå“ªäº›ä¿¡æ¯éœ€è¦æ¾„æ¸…ï¼‰                                   â”‚
â”‚  â”œâ”€ ä»åé¦ˆä¸­å­¦ä¹ ï¼ˆç”¨æˆ·æ»¡æ„åº¦ï¼‰                                         â”‚
â”‚  â””â”€ ä»åå¥½ä¸­å­¦ä¹ ï¼ˆç”¨æˆ·é€‰æ‹©äº†å“ªä¸ªé€‰é¡¹ï¼‰                                 â”‚
â”‚                                                                         â”‚
â”‚  ğŸ¯ ä¸ªæ€§åŒ–è¿›åŒ–                                                          â”‚
â”‚                                                                         â”‚
â”‚  ç¬¬1å¤©: "ä½ å¥½ï¼Œæœ‰ä»€ä¹ˆå¯ä»¥å¸®æ‚¨ï¼Ÿ"                                        â”‚
â”‚         â†“ (å­¦ä¹ åˆ°ç”¨æˆ·å–œæ¬¢ç®€æ´å›å¤)                                      â”‚
â”‚  ç¬¬7å¤©: "æ—©ï¼Œä»Šå¤©æœ‰3ä¸ªä¼šè®®"                                             â”‚
â”‚         â†“ (å­¦ä¹ åˆ°ç”¨æˆ·ä¹ æƒ¯)                                              â”‚
â”‚  ç¬¬30å¤©: "æ—©ï¼é¡¹ç›®è¯„å®¡å‡†å¤‡å¥½äº†ï¼Œè¦çœ‹çœ‹å—ï¼Ÿ"                             â”‚
â”‚         â†“ (é¢„åˆ¤ç”¨æˆ·éœ€æ±‚)                                                â”‚
â”‚  ç¬¬90å¤©: å‡ ä¹ä¸éœ€è¦ç”¨æˆ·è¯´æ˜ï¼Œå°±èƒ½ç†è§£éœ€æ±‚                               â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸš€ å®ç°è·¯çº¿å›¾

### Phase 1: æ ¸å¿ƒå¯¹è¯æ¡†æ¶ (Week 1-2)
```
âœ… åŸºç¡€åŠŸèƒ½
â”œâ”€ Session/Message æ•°æ®æ¨¡å‹
â”œâ”€ ChatService æ ¸å¿ƒæœåŠ¡
â”œâ”€ åŸºç¡€å¯¹è¯API
â”œâ”€ å‰ç«¯å¯¹è¯ç•Œé¢
â””â”€ åŸºç¡€æ„å›¾è¯†åˆ«
```

### Phase 2: è®°å¿†ç³»ç»Ÿ (Week 3-4)
```
ğŸ§  ä¸ªäººè®°å¿†
â”œâ”€ ç”¨æˆ·æ¡£æ¡ˆå­˜å‚¨
â”œâ”€ å…³ç³»å›¾è°±
â”œâ”€ åå¥½ç³»ç»Ÿ
â”œâ”€ æƒ…æ™¯è®°å¿†
â””â”€ è®°å¿†æå–ä¸æ›´æ–°
```

### Phase 3: æ™ºèƒ½å¢å¼º (Week 5-6)
```
ğŸ”® æ™ºèƒ½åŠŸèƒ½
â”œâ”€ æ·±åº¦æ„å›¾ç†è§£
â”œâ”€ ä¸Šä¸‹æ–‡æ¨ç†
â”œâ”€ ä»»åŠ¡é“¾æ¨ç†
â”œâ”€ æƒ…æ„Ÿè¯†åˆ«
â””â”€ ä¸»åŠ¨æœåŠ¡åŸºç¡€
```

### Phase 4: ä½“éªŒä¼˜åŒ– (Week 7-8)
```
ğŸ¨ ä½“éªŒæå‡
â”œâ”€ ä¸ªæ€§åŒ–é£æ ¼
â”œâ”€ ä¸»åŠ¨æ™ºèƒ½
â”œâ”€ å­¦ä¹ ç³»ç»Ÿ
â”œâ”€ å¤šç«¯åŒæ­¥
â””â”€ æ€§èƒ½ä¼˜åŒ–
```

---

## ğŸ“‹ æ ¸å¿ƒæŒ‡æ ‡

### æ™ºèƒ½åº¦é‡

| æŒ‡æ ‡ | æè¿° | ç›®æ ‡ |
|------|------|------|
| **æ„å›¾å‡†ç¡®ç‡** | æ­£ç¡®ç†è§£ç”¨æˆ·æ„å›¾ | >95% |
| **ä¸Šä¸‹æ–‡ä¿æŒ** | å¤šè½®å¯¹è¯è¿è´¯æ€§ | >90% |
| **è®°å¿†å‡†ç¡®æ€§** | è®°ä½çš„ä¿¡æ¯æ­£ç¡®ç‡ | >98% |
| **ä¸»åŠ¨æœåŠ¡æ¥å—ç‡** | ç”¨æˆ·æ¥å—ä¸»åŠ¨å»ºè®®æ¯”ä¾‹ | >60% |
| **æƒ…æ„Ÿè¯†åˆ«å‡†ç¡®ç‡** | æ­£ç¡®è¯†åˆ«ç”¨æˆ·æƒ…ç»ª | >85% |
| **ä»»åŠ¡å®Œæˆç‡** | æˆåŠŸå®Œæˆç”¨æˆ·ä»»åŠ¡ | >95% |
| **ç”¨æˆ·æ»¡æ„åº¦** | ç»¼åˆæ»¡æ„åº¦è¯„åˆ† | >4.5/5 |

---

## ğŸ¯ æœ€ç»ˆæ„¿æ™¯

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                         â”‚
â”‚     Jarvis ä¸åªæ˜¯ä¸€ä¸ªå·¥å…·ï¼Œè€Œæ˜¯ä¸€ä¸ªçœŸæ­£ç†è§£ä½ çš„æ™ºèƒ½ä¼™ä¼´                 â”‚
â”‚                                                                         â”‚
â”‚     âœ¨ è®°ä½ä½ è¯´è¿‡çš„æ¯ä¸€ä»¶é‡è¦çš„äº‹                                       â”‚
â”‚     âœ¨ ç†è§£ä½ çš„ä¹ æƒ¯å’Œåå¥½                                               â”‚
â”‚     âœ¨ åœ¨ä½ éœ€è¦ä¹‹å‰å°±å‡†å¤‡å¥½å¸®åŠ©                                         â”‚
â”‚     âœ¨ ç”¨ä½ å–œæ¬¢çš„æ–¹å¼ä¸ä½ äº¤æµ                                           â”‚
â”‚     âœ¨ éšç€æ—¶é—´è¶Šæ¥è¶Šæ‡‚ä½                                                â”‚
â”‚                                                                         â”‚
â”‚     "Hey Jarvis" â€” ç„¶åï¼Œä¸€åˆ‡éƒ½ä¼šä¸ºä½ å‡†å¤‡å¥½ã€‚                          â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
